@app.route("/edit/<string:table_type>/<string:serial>", methods=['GET', 'POST'])
def editing_sec(serial, table_type):
    if 'user' in session and session['user'] == params['admin_user']:
        if table_type == 'projects':
            section = Projects.query.filter_by(serial=serial).first() if serial != 0 else None
        elif table_type == 'posts':
            section = Posts.query.filter_by(serial=serial).first() if serial != 0 else None
        else:
            section = None
        if request.method == 'POST':
            title = request.form.get('title')
            slug = request.form.get('slug')
            image = request.form.get('image')
            date = request.form.get('date')
            content = request.form.get('content')
            post = None
            if serial == '0':
                if table_type == 'projects':
                    post = Projects(serial=serial, title=title, slug=slug, image=image, date=date, content=content)
                elif table_type == 'posts':
                    post = Posts(serial=serial, title=title, slug=slug, image=image, date=date, content=content)
                db.session.add(post)
                db.session.commit()

            return render_template('editing.html', params=params, section=section, table_type=table_type)
        if table_type == 'projects':
            post = Projects.query.filter_by(serial=serial).first()
        elif table_type == 'posts':
            post = Posts.query.filter_by(serial=serial).first()
        return render_template('editing.html', params=params, section=section, table_type=table_type, post=post)


_________________________________________________________________________________________________________________________________________________________________________________________________________
else:
                if table_type == 'projects':
                    post = Projects.query.filter_by(serial=serial).first()
                    post.title = title
                    post.slug = slug
                    post.image = image
                    post.date = date
                    post.content = content
                    db.session.commit()
                    return redirect('/edit/projects/' + serial)
                elif table_type == 'posts':
                    post = Posts.query.filter_by(serial=serial).first()
                    post.title = title
                    post.slug = slug
                    post.image = image
                    post.date = date
                    post.content = content
                    db.session.commit()
                    return redirect('/edit/posts/' + serial)
                db.session.add(post)
                db.session.commit()